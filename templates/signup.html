{% extends 'base.html' %}

{% block content %}
<div class="auth-container">
    <div class="auth-form">
        <h1>Sign Up</h1>
        <p class="form-info">Username must be at least 3 characters. Password must be more than 6 characters.</p>
        <form action="{{ url_for('signup') }}" method="POST" onsubmit="return validateForm()">
            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required minlength="3" autocomplete="username">
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required minlength="7" autocomplete="new-password">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm Password:</label>
                <input type="password" id="confirm_password" name="confirm_password" required minlength="7" autocomplete="new-password">
            </div>
            <div id="error-message" class="error-message"></div>
            <button type="submit" class="btn">Sign Up</button>
        </form>
        <p class="auth-link">Already have an account? <a href="{{ url_for('login') }}">Login here</a></p>
    </div>
</div>

<script>
function validateForm() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm_password').value;
    const errorMessage = document.getElementById('error-message');
    
    if (username.length < 3) {
        errorMessage.textContent = 'Username must be at least 3 characters long';
        return false;
    }
    
    if (password.length < 7) {
        errorMessage.textContent = 'Password must be more than 6 characters long';
        return false;
    }
    
    if (password !== confirmPassword) {
        errorMessage.textContent = 'Passwords do not match';
        return false;
    }
    
    return true;
}
</script>
{% endblock %}
